const n="data-legacy-src",o=()=>typeof document<"u",s=e=>e.replace(/^\/+/,""),l=e=>new URL(Object.assign({})[`../../public/${s(e)}`],import.meta.url).href,u=e=>o()?Array.from(document.querySelectorAll(`[${n}]`)).some(c=>c.getAttribute(n)===e):!1,d=async(e=[])=>{if(o())for(const c of e){const r=s(c);u(r)||await new Promise((a,i)=>{const t=document.createElement("script");t.src=l(r),t.setAttribute(n,r),t.async=!1,t.onload=a,t.onerror=()=>i(new Error(`No se pudo cargar el recurso legacy: ${r}`)),document.head.appendChild(t)})}};export{d as i};
